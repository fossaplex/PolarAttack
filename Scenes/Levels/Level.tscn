[gd_scene load_steps=17 format=3 uid="uid://v0wxmchyy8hw"]

[ext_resource type="Script" path="res://Scenes/Levels/Level.gd" id="1_mxhe7"]
[ext_resource type="PackedScene" uid="uid://bw72hruorpjco" path="res://Scenes/Player/Player.tscn" id="1_siijq"]
[ext_resource type="PackedScene" uid="uid://3j3i1mox6gns" path="res://Scenes/Map/map.tscn" id="2_gs7rd"]
[ext_resource type="AudioStream" uid="uid://dt1cy7i75mhnu" path="res://Sounds/song_1.mp3" id="3_dm7rh"]
[ext_resource type="PackedScene" uid="uid://c4xpq8iffsd5t" path="res://Scenes/Hearts/HeartsContainer.tscn" id="5_d1brm"]
[ext_resource type="AudioStream" uid="uid://bit6conjtq8a0" path="res://Sounds/blizzard ominous.mp3" id="6_05ye3"]
[ext_resource type="PackedScene" uid="uid://dyx3kehr12ycl" path="res://Scenes/PauseMenu/pause_menu.tscn" id="6_30ok4"]
[ext_resource type="Texture2D" uid="uid://qatsyxql6wdw" path="res://Graphics/Spritesheets/HUD UI/ProgressBarUnder_1.png" id="6_p8w0s"]
[ext_resource type="Script" path="res://Scenes/Levels/XpProgressBar.gd" id="7_02coe"]
[ext_resource type="Texture2D" uid="uid://d4cc3eyopu7vx" path="res://Graphics/Spritesheets/HUD UI/ProgressBarProgress_1.png" id="7_yn16o"]
[ext_resource type="PackedScene" uid="uid://dfmw6h4velbkk" path="res://Scenes/OptionsMenu/options_menu.tscn" id="9_e5sju"]
[ext_resource type="PackedScene" uid="uid://xgs1q0wrl51a" path="res://Scenes/HUD/Player_Level_UI.tscn" id="11_3iven"]
[ext_resource type="PackedScene" uid="uid://dkunpj14gq1t0" path="res://Scenes/Managers/collectable_manager.tscn" id="11_b0gdw"]
[ext_resource type="PackedScene" uid="uid://cwejontbuq4sr" path="res://Scenes/Collectables/BaseCollectableEntity/BaseCollectableEntity.tscn" id="14_ewg1e"]
[ext_resource type="Script" path="res://Scenes/Levels/EnemySpawner.gd" id="15_6hlx1"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_s2fnj"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(2000, 2000, 1)
angle_min = -720.0
angle_max = 720.0
spread = 133.989
flatness = 0.697
initial_velocity_max = 14.22
gravity = Vector3(-100, 70, 0)
linear_accel_max = 76.4
scale_max = 2.0
color = Color(0.639216, 0.74902, 0.913725, 1)
hue_variation_min = -0.05
hue_variation_max = 0.02
turbulence_noise_strength = 5.26
turbulence_noise_scale = 3.263
turbulence_noise_speed_random = 0.0
turbulence_influence_max = 0.131

[node name="Level" type="Node2D"]
process_mode = 3
y_sort_enabled = true
position = Vector2(435, 323)
script = ExtResource("1_mxhe7")

[node name="TileMap" parent="." instance=ExtResource("2_gs7rd")]
process_mode = 1
texture_filter = 1
layer_2/tile_data = PackedInt32Array()

[node name="Player" parent="." instance=ExtResource("1_siijq")]
process_mode = 1
z_index = 1
y_sort_enabled = true
position = Vector2(44, -26)

[node name="Camera2D" type="Camera2D" parent="Player"]
z_index = 2
scale = Vector2(21.9447, -0.00869699)
zoom = Vector2(3.41, 3.41)

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_dm7rh")
volume_db = -23.357
pitch_scale = 0.6
autoplay = true
mix_target = 2

[node name="AmbientNoise" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_05ye3")
volume_db = -2.811
autoplay = true
bus = &"Ambient"

[node name="Snow" type="GPUParticles2D" parent="."]
z_index = 2
position = Vector2(495, 515)
amount = 4000
process_material = SubResource("ParticleProcessMaterial_s2fnj")
lifetime = 5.03
randomness = 0.23
visibility_rect = Rect2(-1000, -1000, 1000, 1000)
local_coords = true
draw_order = 2
trail_lifetime = 6.58
trail_sections = 16
trail_section_subdivisions = 16

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="XpProgressBar" type="TextureProgressBar" parent="CanvasLayer"]
z_index = 10
offset_left = -1.0
offset_top = 3.0
offset_right = 63.0
offset_bottom = 13.0
scale = Vector2(18, 1.92)
texture_under = ExtResource("6_p8w0s")
texture_progress = ExtResource("7_yn16o")
script = ExtResource("7_02coe")

[node name="HeartsContainer" parent="CanvasLayer" instance=ExtResource("5_d1brm")]
position = Vector2(12, 36)
scale = Vector2(3.26, 3.26)

[node name="PlayerLevelUI" parent="CanvasLayer" instance=ExtResource("11_3iven")]
offset_left = 543.0
offset_top = 15.0
offset_right = 543.0
offset_bottom = 15.0

[node name="PauseMenu" parent="CanvasLayer" node_paths=PackedStringArray("level") instance=ExtResource("6_30ok4")]
process_mode = 2
visible = false
level = NodePath("../..")

[node name="OptionsMenu" parent="CanvasLayer/PauseMenu" instance=ExtResource("9_e5sju")]
visible = false
layout_mode = 1
offset_left = -1.0
offset_top = 1.0
offset_right = -1.0
offset_bottom = 1.0

[node name="Manager_Container" type="Node" parent="."]

[node name="Collectable_manager" parent="Manager_Container" instance=ExtResource("11_b0gdw")]

[node name="TEMP_XP_COLLECTABLE" parent="." instance=ExtResource("14_ewg1e")]
position = Vector2(306, 47)

[node name="TEMP_XP_COLLECTABLE2" parent="." instance=ExtResource("14_ewg1e")]
z_index = 1
position = Vector2(115, 71)

[node name="TEMP_XP_COLLECTABLE3" parent="." instance=ExtResource("14_ewg1e")]
z_index = 1
position = Vector2(-43, 16)

[node name="Seals" type="Node2D" parent="."]
process_mode = 1
y_sort_enabled = true
position = Vector2(14, 23)

[node name="EnemySpawner" type="Node2D" parent="."]
script = ExtResource("15_6hlx1")

[node name="Timer" type="Timer" parent="EnemySpawner"]

[node name="SpawnPoints" type="Node2D" parent="EnemySpawner"]

[node name="Marker2D" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, -184)

[node name="Marker2D2" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, -143)

[node name="Marker2D3" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, -100)

[node name="Marker2D4" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, -59)

[node name="Marker2D5" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, 46)

[node name="Marker2D6" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, 87)

[node name="Marker2D7" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, 130)

[node name="Marker2D8" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(-316, 171)

[node name="Marker2D9" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, -181)

[node name="Marker2D10" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, -140)

[node name="Marker2D11" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, -97)

[node name="Marker2D12" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, -56)

[node name="Marker2D13" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, 49)

[node name="Marker2D14" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, 90)

[node name="Marker2D15" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, 133)

[node name="Marker2D16" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(349, 174)

[connection signal="exit_options_menu" from="CanvasLayer/PauseMenu/OptionsMenu" to="CanvasLayer/PauseMenu" method="_on_options_menu_exit_options_menu"]
