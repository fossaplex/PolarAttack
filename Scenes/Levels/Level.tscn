[gd_scene load_steps=12 format=3 uid="uid://v0wxmchyy8hw"]

[ext_resource type="Script" path="res://Scenes/Levels/Level.gd" id="1_mxhe7"]
[ext_resource type="PackedScene" uid="uid://3j3i1mox6gns" path="res://Scenes/Map/map.tscn" id="2_gs7rd"]
[ext_resource type="AudioStream" uid="uid://dt1cy7i75mhnu" path="res://Sounds/song_1.mp3" id="3_dm7rh"]
[ext_resource type="AudioStream" uid="uid://bit6conjtq8a0" path="res://Sounds/blizzard ominous.mp3" id="6_05ye3"]
[ext_resource type="PackedScene" uid="uid://dyx3kehr12ycl" path="res://Scenes/PauseMenu/pause_menu.tscn" id="6_30ok4"]
[ext_resource type="PackedScene" uid="uid://dfmw6h4velbkk" path="res://Scenes/OptionsMenu/options_menu.tscn" id="9_e5sju"]
[ext_resource type="PackedScene" uid="uid://dpl0mcphj5tk0" path="res://Scenes/Player/player.tscn" id="9_mbrx2"]
[ext_resource type="Script" path="res://Scenes/Levels/EnemySpawner.gd" id="9_uw663"]
[ext_resource type="PackedScene" uid="uid://cmmq7oc8em3e3" path="res://Scenes/Enemies/Seal/seal.tscn" id="9_vxc7i"]
[ext_resource type="PackedScene" uid="uid://dkunpj14gq1t0" path="res://Scenes/Managers/collectable_manager.tscn" id="11_b0gdw"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_s2fnj"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(2000, 2000, 1)
angle_min = -720.0
angle_max = 720.0
spread = 133.989
flatness = 0.697
initial_velocity_max = 14.22
gravity = Vector3(-100, 70, 0)
linear_accel_max = 76.4
scale_max = 2.0
color = Color(0.639216, 0.74902, 0.913725, 1)
hue_variation_min = -0.05
hue_variation_max = 0.02
turbulence_noise_strength = 5.26
turbulence_noise_scale = 3.263
turbulence_noise_speed_random = 0.0
turbulence_influence_max = 0.131

[node name="Level" type="Node2D"]
process_mode = 3
y_sort_enabled = true
position = Vector2(495, 338)
script = ExtResource("1_mxhe7")

[node name="TileMap" parent="." instance=ExtResource("2_gs7rd")]
process_mode = 1
texture_filter = 1
position = Vector2(-5, -25)
layer_2/tile_data = PackedInt32Array()

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_dm7rh")
volume_db = -23.357
pitch_scale = 0.6
autoplay = true
mix_target = 2

[node name="AmbientNoise" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_05ye3")
volume_db = -2.811
autoplay = true
bus = &"Ambient"

[node name="Snow" type="GPUParticles2D" parent="."]
z_index = 2
position = Vector2(495, 515)
amount = 4000
process_material = SubResource("ParticleProcessMaterial_s2fnj")
lifetime = 5.03
randomness = 0.23
visibility_rect = Rect2(-1000, -1000, 1000, 1000)
local_coords = true
draw_order = 2
trail_lifetime = 6.58
trail_sections = 16
trail_section_subdivisions = 16

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PauseMenu" parent="CanvasLayer" node_paths=PackedStringArray("level") instance=ExtResource("6_30ok4")]
process_mode = 2
visible = false
level = NodePath("../..")

[node name="OptionsMenu" parent="CanvasLayer/PauseMenu" instance=ExtResource("9_e5sju")]
visible = false
layout_mode = 1
offset_left = -1.0
offset_top = 1.0
offset_right = -1.0
offset_bottom = 1.0

[node name="Manager_Container" type="Node" parent="."]

[node name="Collectable_manager" parent="Manager_Container" instance=ExtResource("11_b0gdw")]

[node name="EnemySpawner" type="Node2D" parent="."]
process_mode = 1
script = ExtResource("9_uw663")

[node name="Timer" type="Timer" parent="EnemySpawner"]
process_mode = 1
wait_time = 10.0
autostart = true

[node name="SpawnPoints" type="Node2D" parent="EnemySpawner"]
position = Vector2(-437, -337)

[node name="Marker2D" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(131, 129)

[node name="Marker2D2" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(132, 171)

[node name="Marker2D3" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(130, 217)

[node name="Marker2D4" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(129, 269)

[node name="Marker2D5" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(128, 308)

[node name="Marker2D6" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(128, 353)

[node name="Marker2D7" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(127, 412)

[node name="Marker2D8" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(127, 447)

[node name="Marker2D9" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(132, 485)

[node name="Marker2D10" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(769, 133)

[node name="Marker2D11" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(768, 172)

[node name="Marker2D12" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(768, 217)

[node name="Marker2D13" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(771, 269)

[node name="Marker2D14" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(770, 308)

[node name="Marker2D15" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(770, 353)

[node name="Marker2D16" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(771, 406)

[node name="Marker2D17" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(770, 445)

[node name="Marker2D18" type="Marker2D" parent="EnemySpawner/SpawnPoints"]
position = Vector2(770, 490)

[node name="Seals" type="Node2D" parent="."]
process_mode = 1
z_index = 1
y_sort_enabled = true
position = Vector2(-437, -337)

[node name="Seal" parent="Seals" node_paths=PackedStringArray("target") instance=ExtResource("9_vxc7i")]
position = Vector2(168, 295)
target = NodePath("../../Player")

[node name="Player" parent="." instance=ExtResource("9_mbrx2")]
process_mode = 1
position = Vector2(-124, -44)
orb_damage = 20.0
beam_damage = 20.0
total_health = 1000
health = 1000

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, 6)
zoom = Vector2(2.585, 2.585)

[connection signal="exit_options_menu" from="CanvasLayer/PauseMenu/OptionsMenu" to="CanvasLayer/PauseMenu" method="_on_options_menu_exit_options_menu"]
[connection signal="timeout" from="EnemySpawner/Timer" to="EnemySpawner" method="_on_timer_timeout"]
[connection signal="is_dead" from="Player" to="." method="_on_player_is_dead"]
[connection signal="is_dead" from="Player" to="EnemySpawner/Timer" method="_on_player_is_dead"]
